{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///app/code/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client'\n\nimport { PrismaClient } from '@prisma/client'\n\nconst globalForPrisma = globalThis as unknown as {\n  prisma: PrismaClient | undefined\n}\n\nexport const prisma = globalForPrisma.prisma ?? new PrismaClient({\n  log: process.env.NODE_ENV === 'development' ? ['query', 'error', 'warn'] : ['error'],\n})\n\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma\n"],"names":[],"mappings":";;;AAAA;;;AAIA,MAAM,kBAAkB;AAIjB,MAAM,SAAS,gBAAgB,MAAM,IAAI,IAAI,6HAAA,CAAA,eAAY,CAAC;IAC/D,KAAK,uCAAyC;QAAC;QAAS;QAAS;KAAO;AAC1E;AAEA,wCAA2C,gBAAgB,MAAM,GAAG","debugId":null}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file:///app/code/src/app/sitemap-images.xml/route.ts"],"sourcesContent":["\nimport { prisma } from '@/lib/prisma';\n\nexport async function GET() {\n  const baseUrl = 'https://www.aldeyarksa.tech';\n  \n  // الصور الأساسية للموقع\n  const staticImages = [\n    {\n      url: '/images/logo.png',\n      caption: 'شعار محترفين الديار العالمية - أفضل شركة مظلات وسواتر في جدة',\n      title: 'محترفين الديار العالمية',\n      location: 'جدة، السعودية'\n    },\n    {\n      url: '/images/hero-bg.jpg',\n      caption: 'الصفحة الرئيسية - مظلات وسواتر وبرجولات عالية الجودة في جدة',\n      title: 'خدمات المظلات والسواتر في جدة',\n      location: 'جدة، السعودية'\n    }\n  ];\n\n  // صور الخدمات\n  const serviceImages = [\n    {\n      url: '/uploads/mazallat-1.webp',\n      caption: 'مظلات سيارات عالية الجودة - تركيب احترافي في جدة',\n      title: 'مظلات سيارات جدة',\n      location: 'جدة، السعودية'\n    },\n    {\n      url: '/uploads/pergola-1.jpg',\n      caption: 'برجولات خشبية وحديدية للحدائق - تصميم وتنفيذ في جدة',\n      title: 'برجولات حدائق جدة',\n      location: 'جدة، السعودية'\n    },\n    {\n      url: '/uploads/sawater-1.webp',\n      caption: 'سواتر خصوصية وحماية - أحدث التصاميم في جدة',\n      title: 'سواتر جدة',\n      location: 'جدة، السعودية'\n    },\n    {\n      url: '/uploads/sandwich-panel-1.jpg',\n      caption: 'ساندوتش بانل للعزل الحراري - حلول متقدمة في جدة',\n      title: 'ساندوتش بانل جدة',\n      location: 'جدة، السعودية'\n    },\n    {\n      url: '/uploads/landscaping-1.webp',\n      caption: 'تنسيق وتصميم الحدائق - خدمات شاملة في جدة',\n      title: 'تنسيق حدائق جدة',\n      location: 'جدة، السعودية'\n    },\n    {\n      url: '/uploads/byoot-shaar-1.webp',\n      caption: 'بيوت شعر تراثية - أصالة وجودة في جدة',\n      title: 'بيوت شعر جدة',\n      location: 'جدة، السعودية'\n    },\n    {\n      url: '/uploads/khayyam-1.webp',\n      caption: 'خيام ملكية فاخرة - للمناسبات الخاصة في جدة',\n      title: 'خيام ملكية جدة',\n      location: 'جدة، السعودية'\n    }\n  ];\n\n  let projectImages: any[] = [];\n\n  try {\n    // جلب صور المشاريع من قاعدة البيانات\n    const projects = await prisma.project.findMany({\n      select: {\n        id: true,\n        title: true,\n        description: true,\n        category: true,\n        location: true,\n        mediaItems: {\n          where: {\n            type: 'IMAGE'\n          },\n          select: {\n            src: true,\n            title: true,\n            description: true,\n            alt: true\n          }\n        }\n      }\n    });\n\n    projectImages = projects.flatMap(project => \n      project.mediaItems.map(media => ({\n        url: media.src.startsWith('http') ? media.src : media.src,\n        caption: `${media.alt || media.title || project.title} - ${project.category} في ${project.location}`,\n        title: `${project.title} - محترفين الديار العالمية`,\n        location: `${project.location}, السعودية`,\n        project_url: `${baseUrl}/portfolio/${project.id}`\n      }))\n    );\n  } catch (error) {\n    console.error('خطأ في جلب صور المشاريع:', error);\n  }\n\n  // دمج جميع الصور\n  const allImages = [...staticImages, ...serviceImages, ...projectImages];\n\n  const imagesSitemap = allImages\n    .map(image => `\n  <url>\n    <loc>${baseUrl}${image.url}</loc>\n    <image:image>\n      <image:loc>${image.url.startsWith('http') ? image.url : `${baseUrl}${image.url}`}</image:loc>\n      <image:caption><![CDATA[${image.caption}]]></image:caption>\n      <image:title><![CDATA[${image.title}]]></image:title>\n      <image:geo_location><![CDATA[${image.location}]]></image:geo_location>\n      <image:license><![CDATA[https://www.aldeyarksa.tech/terms]]></image:license>\n    </image:image>\n    <lastmod>${new Date().toISOString()}</lastmod>\n    <changefreq>weekly</changefreq>\n    <priority>0.8</priority>\n  </url>`)\n    .join('');\n\n  const sitemap = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\"\n        xmlns:image=\"http://www.google.com/schemas/sitemap-image/1.1\">\n  ${imagesSitemap}\n</urlset>`;\n\n  return new Response(sitemap, {\n    status: 200,\n    headers: {\n      'Content-Type': 'application/xml; charset=utf-8',\n      'Cache-Control': 'public, max-age=3600, s-maxage=3600',\n      'X-Images-Count': allImages.length.toString()\n    },\n  });\n}\n"],"names":[],"mappings":";;;AACA;;AAEO,eAAe;IACpB,MAAM,UAAU;IAEhB,wBAAwB;IACxB,MAAM,eAAe;QACnB;YACE,KAAK;YACL,SAAS;YACT,OAAO;YACP,UAAU;QACZ;QACA;YACE,KAAK;YACL,SAAS;YACT,OAAO;YACP,UAAU;QACZ;KACD;IAED,cAAc;IACd,MAAM,gBAAgB;QACpB;YACE,KAAK;YACL,SAAS;YACT,OAAO;YACP,UAAU;QACZ;QACA;YACE,KAAK;YACL,SAAS;YACT,OAAO;YACP,UAAU;QACZ;QACA;YACE,KAAK;YACL,SAAS;YACT,OAAO;YACP,UAAU;QACZ;QACA;YACE,KAAK;YACL,SAAS;YACT,OAAO;YACP,UAAU;QACZ;QACA;YACE,KAAK;YACL,SAAS;YACT,OAAO;YACP,UAAU;QACZ;QACA;YACE,KAAK;YACL,SAAS;YACT,OAAO;YACP,UAAU;QACZ;QACA;YACE,KAAK;YACL,SAAS;YACT,OAAO;YACP,UAAU;QACZ;KACD;IAED,IAAI,gBAAuB,EAAE;IAE7B,IAAI;QACF,qCAAqC;QACrC,MAAM,WAAW,MAAM,sHAAA,CAAA,SAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;YAC7C,QAAQ;gBACN,IAAI;gBACJ,OAAO;gBACP,aAAa;gBACb,UAAU;gBACV,UAAU;gBACV,YAAY;oBACV,OAAO;wBACL,MAAM;oBACR;oBACA,QAAQ;wBACN,KAAK;wBACL,OAAO;wBACP,aAAa;wBACb,KAAK;oBACP;gBACF;YACF;QACF;QAEA,gBAAgB,SAAS,OAAO,CAAC,CAAA,UAC/B,QAAQ,UAAU,CAAC,GAAG,CAAC,CAAA,QAAS,CAAC;oBAC/B,KAAK,MAAM,GAAG,CAAC,UAAU,CAAC,UAAU,MAAM,GAAG,GAAG,MAAM,GAAG;oBACzD,SAAS,GAAG,MAAM,GAAG,IAAI,MAAM,KAAK,IAAI,QAAQ,KAAK,CAAC,GAAG,EAAE,QAAQ,QAAQ,CAAC,IAAI,EAAE,QAAQ,QAAQ,EAAE;oBACpG,OAAO,GAAG,QAAQ,KAAK,CAAC,0BAA0B,CAAC;oBACnD,UAAU,GAAG,QAAQ,QAAQ,CAAC,UAAU,CAAC;oBACzC,aAAa,GAAG,QAAQ,WAAW,EAAE,QAAQ,EAAE,EAAE;gBACnD,CAAC;IAEL,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;IAC5C;IAEA,iBAAiB;IACjB,MAAM,YAAY;WAAI;WAAiB;WAAkB;KAAc;IAEvE,MAAM,gBAAgB,UACnB,GAAG,CAAC,CAAA,QAAS,CAAC;;SAEV,EAAE,UAAU,MAAM,GAAG,CAAC;;iBAEd,EAAE,MAAM,GAAG,CAAC,UAAU,CAAC,UAAU,MAAM,GAAG,GAAG,GAAG,UAAU,MAAM,GAAG,EAAE,CAAC;8BACzD,EAAE,MAAM,OAAO,CAAC;4BAClB,EAAE,MAAM,KAAK,CAAC;mCACP,EAAE,MAAM,QAAQ,CAAC;;;aAGvC,EAAE,IAAI,OAAO,WAAW,GAAG;;;QAGhC,CAAC,EACJ,IAAI,CAAC;IAER,MAAM,UAAU,CAAC;;;EAGjB,EAAE,cAAc;SACT,CAAC;IAER,OAAO,IAAI,SAAS,SAAS;QAC3B,QAAQ;QACR,SAAS;YACP,gBAAgB;YAChB,iBAAiB;YACjB,kBAAkB,UAAU,MAAM,CAAC,QAAQ;QAC7C;IACF;AACF","debugId":null}}]
}