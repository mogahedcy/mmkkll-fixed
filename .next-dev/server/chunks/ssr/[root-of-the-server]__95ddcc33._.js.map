{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client'\n\nconst globalForPrisma = globalThis as unknown as {\n  prisma: PrismaClient | undefined\n}\n\nexport const prisma = globalForPrisma.prisma ?? new PrismaClient({\n  log: process.env.NODE_ENV === 'development' ? ['query', 'error', 'warn'] : ['error'],\n})\n\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,kBAAkB;AAIjB,MAAM,SAAS,gBAAgB,MAAM,IAAI,IAAI,6IAAY,CAAC;IAC/D,KAAK,uCAAyC;QAAC;QAAS;QAAS;KAAO,GAAG;AAC7E;AAEA,wCAA2C,gBAAgB,MAAM,GAAG","debugId":null}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/app/dashboard/OverviewClient.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/dashboard/OverviewClient.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/dashboard/OverviewClient.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAwS,GACrU,sEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/app/dashboard/OverviewClient.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/dashboard/OverviewClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/dashboard/OverviewClient.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAoR,GACjT,kDACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/app/dashboard/page.tsx"],"sourcesContent":["import { redirect } from 'next/navigation';\nimport { cookies } from 'next/headers';\nimport jwt from 'jsonwebtoken';\nimport { prisma } from '@/lib/prisma';\nimport OverviewClient from './OverviewClient';\nimport type { Metadata } from 'next';\n\nexport const metadata: Metadata = {\n  title: 'لوحة التحكم | محترفين الديار العالمية',\n  description: 'لوحة تحكم إدارة الموقع',\n  robots: 'noindex, nofollow',\n};\n\nasync function getAdminData() {\n  try {\n    const cookieStore = await cookies();\n    const token = cookieStore.get('admin-token')?.value;\n\n    if (!token) {\n      return null;\n    }\n\n    const decoded = jwt.verify(\n      token,\n      process.env.JWT_SECRET || 'default-secret-key-change-in-production'\n    ) as any;\n\n    const admin = await prisma.admins.findUnique({\n      where: { id: decoded.adminId },\n      select: {\n        id: true,\n        username: true,\n        email: true,\n        fullName: true,\n        role: true,\n        lastLogin: true,\n        loginCount: true\n      }\n    });\n\n    return admin;\n  } catch (error) {\n    return null;\n  }\n}\n\nexport default async function DashboardPage() {\n  const admin = await getAdminData();\n\n  if (!admin) {\n    redirect('/login');\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\" dir=\"rtl\">\n      <div className=\"bg-white shadow-sm border-b\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center py-6\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900\">لوحة التحكم</h1>\n              <p className=\"text-gray-600 mt-1\">مرحباً بك، {admin.fullName || admin.username}</p>\n            </div>\n            <div className=\"flex items-center gap-4\">\n              <span className=\"text-sm text-gray-500\">\n                آخر تسجيل دخول: {admin.lastLogin ? new Date(admin.lastLogin).toLocaleDateString('ar-SA', {\n                  year: 'numeric',\n                  month: 'long',\n                  day: 'numeric'\n                }) : 'غير محدد'}\n              </span>\n              <a\n                href=\"/api/auth/logout\"\n                className=\"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors\"\n              >\n                تسجيل الخروج\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8\">\n        {/* نظرة عامة متقدمة */}\n        <OverviewClient />\n\n        {/* روابط سريعة */}\n        <div className=\"bg-white rounded-lg shadow\">\n          <div className=\"p-6\">\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">الإجراءات السريعة</h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n              <a\n                href=\"/dashboard/projects\"\n                className=\"flex items-center p-4 border rounded-lg hover:bg-gray-50 transition-colors\"\n              >\n                <div className=\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3\">\n                  <svg className=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\n                  </svg>\n                </div>\n                <div>\n                  <h3 className=\"font-medium\">إدارة المشاريع</h3>\n                  <p className=\"text-sm text-gray-500\">عرض وتعديل المشاريع</p>\n                </div>\n              </a>\n\n              <a\n                href=\"/dashboard/projects/add\"\n                className=\"flex items-center p-4 border rounded-lg hover:bg-gray-50 transition-colors\"\n              >\n                <div className=\"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-3\">\n                  <svg className=\"w-5 h-5 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n                  </svg>\n                </div>\n                <div>\n                  <h3 className=\"font-medium\">إضافة مشروع</h3>\n                  <p className=\"text-sm text-gray-500\">إضافة مشروع جديد</p>\n                </div>\n              </a>\n\n              <a\n                href=\"/dashboard/settings\"\n                className=\"flex items-center p-4 border rounded-lg hover:bg-gray-50 transition-colors\"\n              >\n                <div className=\"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center mr-3\">\n                  <svg className=\"w-5 h-5 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                  </svg>\n                </div>\n                <div>\n                  <h3 className=\"font-medium\">الإعدادات</h3>\n                  <p className=\"text-sm text-gray-500\">إعدادات الحساب</p>\n                </div>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}