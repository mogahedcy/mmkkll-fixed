{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///app/code/src/app/portfolio/%5Bid%5D/ProjectDetailsClient.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/portfolio/[id]/ProjectDetailsClient.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/portfolio/[id]/ProjectDetailsClient.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAmT,GAChV,iFACA","debugId":null}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///app/code/src/app/portfolio/%5Bid%5D/ProjectDetailsClient.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/portfolio/[id]/ProjectDetailsClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/portfolio/[id]/ProjectDetailsClient.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA+R,GAC5T,6DACA","debugId":null}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":["file:///app/code/src/app/portfolio/%5Bid%5D/page.tsx"],"sourcesContent":["import type { Metadata } from 'next';\nimport { notFound } from 'next/navigation';\nimport Navbar from '@/components/Navbar';\nimport Footer from '@/components/Footer';\nimport ProjectDetailsClient from './ProjectDetailsClient';\n\ninterface Props {\n  params: Promise<{ id: string }>;\n}\n\n// دالة لجلب بيانات المشروع من API\nasync function getProject(id: string) {\n  try {\n    const baseUrl = process.env.NEXT_PUBLIC_BASE_URL || 'http://localhost:3000';\n    const response = await fetch(`${baseUrl}/api/projects/${id}`, {\n      cache: 'no-store', // تجديد البيانات في كل طلب\n    });\n\n    if (!response.ok) {\n      return null;\n    }\n\n    const project = await response.json();\n    return project; // إرجاع المشروع مباشرة\n  } catch (err) {\n    const error = err as { message?: string; status?: number };\n    console.error('خطأ في جلب المشروع:', error);\n\n    // في حالة 404\n    if (error?.message?.includes('404') || error?.status === 404) {\n      notFound();\n    }\n\n    // في حالة خطأ آخر\n    if (error?.message?.includes('500') || error?.status >= 500) {\n      return null;\n    }\n\n    return null;\n  }\n}\n\nexport async function generateMetadata({ params }: { params: Promise<{ id: string }> }): Promise<Metadata> {\n  try {\n    const { id } = await params;\n    // جلب بيانات المشروع\n    const project = await getProject(id);\n\n    if (!project) {\n      return {\n        title: 'المشروع غير موجود | محترفين الديار العالمية',\n        description: 'المشروع المطلوب غير متوفر'\n      };\n    }\n\n    const mainImage = project.mediaItems?.find(item => item.type === 'IMAGE');\n    const seoTitle = `${project.title} في ${project.location} | محترفين الديار العالمية جدة`;\n    const seoDescription = `${project.description.substring(0, 150)}... مشروع ${project.category} في ${project.location} من محترفين الديار العالمية - أفضل شركة مظلات وسواتر في جدة`;\n\n    return {\n      title: seoTitle,\n      description: seoDescription,\n      keywords: [\n        project.category,\n        'جدة',\n        'السعودية',\n        'مظلات',\n        'سواتر',\n        'برجولات',\n        'تنسيق حدائق',\n        'محترفين الديار',\n        project.location,\n        project.title\n      ].join(', '),\n      openGraph: {\n        title: seoTitle,\n        description: seoDescription,\n        type: 'article',\n        url: `https://aldeyarksa.tech/portfolio/${id}`,\n        siteName: 'محترفين الديار العالمية',\n        locale: 'ar_SA',\n        images: project.mediaItems?.filter(item => item.type === 'IMAGE').map(item => ({\n          url: item.src,\n          width: 1200,\n          height: 630,\n          alt: `${project.title} - محترفين الديار العالمية جدة`,\n          type: 'image/webp'\n        })) || []\n      },\n      twitter: {\n        card: 'summary_large_image',\n        title: seoTitle,\n        description: seoDescription.substring(0, 200),\n        images: mainImage ? [mainImage.src] : []\n      },\n      alternates: {\n        canonical: `https://aldeyarksa.tech/portfolio/${id}`\n      },\n      robots: {\n        index: true,\n        follow: true,\n        googleBot: {\n          index: true,\n          follow: true,\n          'max-image-preview': 'large',\n          'max-snippet': -1,\n          'max-video-preview': -1\n        }\n      }\n    };\n  } catch (error) {\n    return {\n      title: 'خطأ | محترفين الديار العالمية',\n      description: 'حدث خطأ في تحميل المشروع'\n    };\n  }\n}\n\nexport function generateViewport() {\n  return {\n    width: 'device-width',\n    initialScale: 1,\n  };\n}\n\nexport default async function ProjectDetailsPage({ params }: Props) {\n  const { id } = await params;\n  const project = await getProject(id);\n\n  if (!project) {\n    notFound();\n  }\n\n  // إعداد structured data\n  const images = project.mediaItems?.filter((item: any) => item.type === 'IMAGE') || [];\n  const videos = project.mediaItems?.filter((item: any) => item.type === 'VIDEO') || [];\n\n  const structuredData = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"CreativeWork\",\n    \"name\": project.title,\n    \"description\": project.description,\n    \"creator\": {\n      \"@type\": \"Organization\",\n      \"name\": \"محترفين الديار العالمية\",\n      \"url\": \"https://aldeyarksa.tech\"\n    },\n    \"dateCreated\": project.createdAt,\n    \"dateModified\": project.updatedAt,\n    \"locationCreated\": {\n      \"@type\": \"Place\",\n      \"name\": project.location\n    },\n    \"category\": project.category,\n    \"image\": images.map((item: any) => ({\n      \"@type\": \"ImageObject\",\n      \"url\": item.src,\n      \"caption\": item.title || project.title,\n      \"encodingFormat\": \"image/jpeg\"\n    })),\n    \"video\": videos.map((item: any) => ({\n      \"@type\": \"VideoObject\",\n      \"name\": item.title || project.title,\n      \"description\": item.description || project.description,\n      \"contentUrl\": item.src,\n      \"encodingFormat\": \"video/mp4\",\n      \"uploadDate\": project.createdAt\n    }))\n  };\n\n  return (\n    <>\n      <script\n        type=\"application/ld+json\"\n        dangerouslySetInnerHTML={{\n          __html: JSON.stringify(structuredData),\n        }}\n      />\n      <Navbar />\n      <ProjectDetailsClient project={project} projectId={id} />\n      <Footer />\n    </>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}