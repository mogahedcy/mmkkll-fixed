{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///app/code/src/app/dashboard/layout.tsx"],"sourcesContent":["import type { Metadata } from 'next'\nimport Link from 'next/link'\nimport { cookies } from 'next/headers'\nimport jwt from 'jsonwebtoken'\n\nexport const metadata: Metadata = {\n  title: 'لوحة التحكم | محترفين الديار العالمية',\n  robots: { index: false, follow: false },\n}\n\nasync function requireAdmin() {\n  const token = (await cookies()).get('admin-token')?.value\n  if (!token) return null\n  try {\n    const decoded = jwt.verify(token, process.env.JWT_SECRET || 'default-secret-key-change-in-production') as any\n    return { id: decoded.adminId, username: decoded.username }\n  } catch {\n    return null\n  }\n}\n\nexport default async function DashboardLayout({ children }: { children: React.ReactNode }) {\n  const admin = await requireAdmin()\n  if (!admin) {\n    return (\n      <html lang=\"ar\" dir=\"rtl\"><body>\n        <div className=\"min-h-screen flex items-center justify-center p-8\">\n          <div className=\"max-w-md w-full text-center space-y-4\">\n            <h1 className=\"text-2xl font-bold text-red-600\">غير مصرح</h1>\n            <p className=\"text-gray-600\">الرجاء تسجيل الدخول للوصول للوحة التحكم.</p>\n            <Link href=\"/login\" className=\"inline-flex px-4 py-2 rounded-md bg-primary text-white\">الانتقال لتسجيل الدخول</Link>\n          </div>\n        </div>\n      </body></html>\n    )\n  }\n\n  return (\n    <html lang=\"ar\" dir=\"rtl\"><body>\n      <div className=\"min-h-screen grid grid-cols-12\">\n        <aside className=\"col-span-12 md:col-span-3 lg:col-span-2 border-l bg-white p-4 space-y-4\">\n          <div className=\"font-bold text-primary\">مرحباً، {admin.username}</div>\n          <nav className=\"space-y-2 text-sm\">\n            <Link href=\"/dashboard\" className=\"block hover:text-primary\">نظرة عامة</Link>\n            <Link href=\"/dashboard/projects\" className=\"block hover:text-primary\">المشاريع</Link>\n            <Link href=\"/dashboard/projects/add\" className=\"block hover:text-primary\">إضافة مشروع</Link>\n            <Link href=\"/dashboard/settings\" className=\"block hover:text-primary\">الإعدادات</Link>\n          </nav>\n        </aside>\n        <main className=\"col-span-12 md:col-span-9 lg:col-span-10 p-4\">{children}</main>\n      </div>\n    </body></html>\n  )\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;;;;;AAEO,MAAM,WAAqB;IAChC,OAAO;IACP,QAAQ;QAAE,OAAO;QAAO,QAAQ;IAAM;AACxC;AAEA,eAAe;IACb,MAAM,QAAQ,CAAC,MAAM,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD,GAAG,EAAE,GAAG,CAAC,gBAAgB;IACpD,IAAI,CAAC,OAAO,OAAO;IACnB,IAAI;QACF,MAAM,UAAU,qIAAA,CAAA,UAAG,CAAC,MAAM,CAAC,OAAO,QAAQ,GAAG,CAAC,UAAU,IAAI;QAC5D,OAAO;YAAE,IAAI,QAAQ,OAAO;YAAE,UAAU,QAAQ,QAAQ;QAAC;IAC3D,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAEe,eAAe,gBAAgB,EAAE,QAAQ,EAAiC;IACvF,MAAM,QAAQ,MAAM;IACpB,IAAI,CAAC,OAAO;QACV,qBACE,8OAAC;YAAK,MAAK;YAAK,KAAI;sBAAM,cAAA,8OAAC;0BACzB,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAkC;;;;;;0CAChD,8OAAC;gCAAE,WAAU;0CAAgB;;;;;;0CAC7B,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAS,WAAU;0CAAyD;;;;;;;;;;;;;;;;;;;;;;;;;;;IAKjG;IAEA,qBACE,8OAAC;QAAK,MAAK;QAAK,KAAI;kBAAM,cAAA,8OAAC;sBACzB,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAM,WAAU;;0CACf,8OAAC;gCAAI,WAAU;;oCAAyB;oCAAS,MAAM,QAAQ;;;;;;;0CAC/D,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,4JAAA,CAAA,UAAI;wCAAC,MAAK;wCAAa,WAAU;kDAA2B;;;;;;kDAC7D,8OAAC,4JAAA,CAAA,UAAI;wCAAC,MAAK;wCAAsB,WAAU;kDAA2B;;;;;;kDACtE,8OAAC,4JAAA,CAAA,UAAI;wCAAC,MAAK;wCAA0B,WAAU;kDAA2B;;;;;;kDAC1E,8OAAC,4JAAA,CAAA,UAAI;wCAAC,MAAK;wCAAsB,WAAU;kDAA2B;;;;;;;;;;;;;;;;;;kCAG1E,8OAAC;wBAAK,WAAU;kCAAgD;;;;;;;;;;;;;;;;;;;;;;AAIxE","debugId":null}}]
}