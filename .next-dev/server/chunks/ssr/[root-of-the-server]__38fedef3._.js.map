{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///app/code/src/app/dashboard/layout.tsx"],"sourcesContent":["import type { Metadata } from 'next'\nimport Link from 'next/link'\nimport { cookies } from 'next/headers'\nimport { redirect } from 'next/navigation'\nimport jwt from 'jsonwebtoken'\n\nexport const metadata: Metadata = {\n  title: 'لوحة التحكم | محترفين الديار العالمية',\n  robots: { index: false, follow: false },\n}\n\nasync function requireAdmin() {\n  const token = (await cookies()).get('admin-token')?.value\n  if (!token) return null\n  try {\n    const decoded = jwt.verify(token, process.env.JWT_SECRET || 'default-secret-key-change-in-production') as any\n    return { id: decoded.adminId, username: decoded.username }\n  } catch {\n    return null\n  }\n}\n\nexport default async function DashboardLayout({ children }: { children: React.ReactNode }) {\n  const admin = await requireAdmin()\n  if (!admin) {\n    redirect('/login')\n  }\n\n  return (\n    <div className=\"min-h-screen grid grid-cols-12\" dir=\"rtl\">\n      <aside className=\"col-span-12 md:col-span-3 lg:col-span-2 border-l bg-white p-4 space-y-4\">\n        <div className=\"font-bold text-primary\">مرحباً، {admin!.username}</div>\n        <nav className=\"space-y-2 text-sm\">\n          <Link href=\"/dashboard\" className=\"block hover:text-primary\">نظرة عامة</Link>\n          <Link href=\"/dashboard/projects\" className=\"block hover:text-primary\">المشاريع</Link>\n          <Link href=\"/dashboard/projects/add\" className=\"block hover:text-primary\">إضافة مشروع</Link>\n          <Link href=\"/dashboard/settings\" className=\"block hover:text-primary\">الإعدادات</Link>\n        </nav>\n      </aside>\n      <main className=\"col-span-12 md:col-span-9 lg:col-span-10 p-4\">{children}</main>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAAA;AACA;;;;;;AAEO,MAAM,WAAqB;IAChC,OAAO;IACP,QAAQ;QAAE,OAAO;QAAO,QAAQ;IAAM;AACxC;AAEA,eAAe;IACb,MAAM,QAAQ,CAAC,MAAM,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD,GAAG,EAAE,GAAG,CAAC,gBAAgB;IACpD,IAAI,CAAC,OAAO,OAAO;IACnB,IAAI;QACF,MAAM,UAAU,qIAAA,CAAA,UAAG,CAAC,MAAM,CAAC,OAAO,QAAQ,GAAG,CAAC,UAAU,IAAI;QAC5D,OAAO;YAAE,IAAI,QAAQ,OAAO;YAAE,UAAU,QAAQ,QAAQ;QAAC;IAC3D,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAEe,eAAe,gBAAgB,EAAE,QAAQ,EAAiC;IACvF,MAAM,QAAQ,MAAM;IACpB,IAAI,CAAC,OAAO;QACV,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE;IACX;IAEA,qBACE,8OAAC;QAAI,WAAU;QAAiC,KAAI;;0BAClD,8OAAC;gBAAM,WAAU;;kCACf,8OAAC;wBAAI,WAAU;;4BAAyB;4BAAS,MAAO,QAAQ;;;;;;;kCAChE,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAa,WAAU;0CAA2B;;;;;;0CAC7D,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAsB,WAAU;0CAA2B;;;;;;0CACtE,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;gCAA0B,WAAU;0CAA2B;;;;;;0CAC1E,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAsB,WAAU;0CAA2B;;;;;;;;;;;;;;;;;;0BAG1E,8OAAC;gBAAK,WAAU;0BAAgD;;;;;;;;;;;;AAGtE","debugId":null}}]
}