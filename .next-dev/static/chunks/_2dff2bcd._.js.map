{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/components/PerformanceOptimizer.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useRef, useCallback } from 'react';\nimport { useRouter } from 'next/navigation';\n\ninterface PerformanceOptimizerProps {\n  children: React.ReactNode;\n}\n\n// Image cache management\nclass ImageCache {\n  private cache = new Map<string, HTMLImageElement>();\n  private loadingSet = new Set<string>();\n\n  async preloadImage(src: string): Promise<HTMLImageElement> {\n    if (this.cache.has(src)) {\n      return this.cache.get(src)!;\n    }\n\n    if (this.loadingSet.has(src)) {\n      return new Promise((resolve) => {\n        const checkLoaded = () => {\n          if (this.cache.has(src)) {\n            resolve(this.cache.get(src)!);\n          } else {\n            setTimeout(checkLoaded, 50);\n          }\n        };\n        checkLoaded();\n      });\n    }\n\n    this.loadingSet.add(src);\n\n    return new Promise((resolve, reject) => {\n      const img = new Image();\n      img.onload = () => {\n        this.cache.set(src, img);\n        this.loadingSet.delete(src);\n        resolve(img);\n      };\n      img.onerror = () => {\n        this.loadingSet.delete(src);\n        reject(new Error(`Failed to load image: ${src}`));\n      };\n      img.src = src;\n    });\n  }\n\n  preloadImages(urls: string[]): Promise<HTMLImageElement[]> {\n    return Promise.all(urls.map(url => this.preloadImage(url)));\n  }\n\n  clearCache(): void {\n    this.cache.clear();\n    this.loadingSet.clear();\n  }\n\n  getCacheSize(): number {\n    return this.cache.size;\n  }\n}\n\n// Global image cache instance\nexport const imageCache = new ImageCache();\n\n// Performance monitoring\nclass PerformanceMonitor {\n  private metrics = {\n    navigationStart: 0,\n    loadComplete: 0,\n    firstContentfulPaint: 0,\n    largestContentfulPaint: 0,\n    cumulativeLayoutShift: 0,\n    firstInputDelay: 0\n  };\n\n  constructor() {\n    this.initializeMetrics();\n  }\n\n  private initializeMetrics() {\n    if (typeof window === 'undefined') return;\n\n    this.metrics.navigationStart = performance.timeOrigin;\n\n    // Load complete\n    window.addEventListener('load', () => {\n      this.metrics.loadComplete = performance.now();\n    });\n  }\n\n  getMetrics() {\n    return { ...this.metrics };\n  }\n\n  logMetrics() {\n    if (process.env.NODE_ENV === 'development') {\n      console.group('ðŸš€ Performance Metrics');\n      console.log('Load Complete:', this.metrics.loadComplete.toFixed(2), 'ms');\n      console.log('Image Cache Size:', imageCache.getCacheSize());\n      console.groupEnd();\n    }\n  }\n}\n\n// Memory management\nclass MemoryManager {\n  private cleanup: (() => void)[] = [];\n\n  addCleanup(fn: () => void) {\n    this.cleanup.push(fn);\n  }\n\n  performCleanup() {\n    this.cleanup.forEach(fn => fn());\n    this.cleanup = [];\n  }\n\n  monitorMemory() {\n    if (typeof window !== 'undefined' && 'memory' in performance) {\n      const memory = (performance as any).memory;\n      const used = memory.usedJSHeapSize / 1048576; // MB\n      const total = memory.totalJSHeapSize / 1048576; // MB\n      const limit = memory.jsHeapSizeLimit / 1048576; // MB\n\n      if (process.env.NODE_ENV === 'development') {\n        console.log(`Memory: ${used.toFixed(2)}MB / ${total.toFixed(2)}MB (Limit: ${limit.toFixed(2)}MB)`);\n      }\n\n      // Auto cleanup if memory usage is high\n      if (used / limit > 0.8) {\n        this.performCleanup();\n        imageCache.clearCache();\n      }\n    }\n  }\n}\n\n// Global instances\nexport const performanceMonitor = new PerformanceMonitor();\nexport const memoryManager = new MemoryManager();\n\n// Resource preloader\nexport const preloadCriticalResources = (resources: string[]) => {\n  if (typeof window === 'undefined') return;\n\n  resources.forEach(resource => {\n    const link = document.createElement('link');\n    link.rel = 'preload';\n\n    if (resource.match(/\\.(jpg|jpeg|png|webp|gif)$/i)) {\n      link.as = 'image';\n      imageCache.preloadImage(resource);\n    } else if (resource.match(/\\.(woff|woff2|ttf|otf)$/i)) {\n      link.as = 'font';\n      link.crossOrigin = 'anonymous';\n    } else if (resource.match(/\\.css$/i)) {\n      link.as = 'style';\n    } else if (resource.match(/\\.js$/i)) {\n      link.as = 'script';\n    }\n\n    link.href = resource;\n    document.head.appendChild(link);\n  });\n};\n\n// Virtualization helper for large lists\nexport const useVirtualization = (items: any[], containerHeight: number, itemHeight: number) => {\n  const [scrollTop, setScrollTop] = useState(0);\n  const [containerRef, setContainerRef] = useState<HTMLElement | null>(null);\n\n  const visibleCount = Math.ceil(containerHeight / itemHeight);\n  const startIndex = Math.floor(scrollTop / itemHeight);\n  const endIndex = Math.min(startIndex + visibleCount + 1, items.length);\n  const visibleItems = items.slice(startIndex, endIndex);\n\n  const totalHeight = items.length * itemHeight;\n  const offsetY = startIndex * itemHeight;\n\n  const handleScroll = (e: React.UIEvent<HTMLElement>) => {\n    setScrollTop(e.currentTarget.scrollTop);\n  };\n\n  return {\n    visibleItems,\n    totalHeight,\n    offsetY,\n    handleScroll,\n    setContainerRef\n  };\n};\n\ninterface PerformanceMetrics {\n  fcp: number;\n  lcp: number;\n  cls: number;\n  inp: number;\n  ttfb: number;\n  loadComplete: number;\n}\n\nexport default function PerformanceOptimizer({ children }: PerformanceOptimizerProps) {\n  const router = useRouter();\n  const [metrics, setMetrics] = useState<PerformanceMetrics>({\n    fcp: 0,\n    lcp: 0,\n    cls: 0,\n    inp: 0,\n    ttfb: 0,\n    loadComplete: 0\n  });\n  const [isClient, setIsClient] = useState(false);\n  const loadStartTimeRef = useRef(0);\n\n  useEffect(() => {\n    setIsClient(true);\n    loadStartTimeRef.current = performance.now();\n  }, []);\n\n  useEffect(() => {\n    if (!isClient) return;\n\n    const handleLoad = () => {\n      const loadTime = performance.now() - loadStartTimeRef.current;\n      setMetrics(prev => ({ ...prev, loadComplete: loadTime }));\n    };\n\n    if (document.readyState === 'complete') {\n      handleLoad();\n    } else {\n      window.addEventListener('load', handleLoad);\n    }\n\n    return () => {\n      window.removeEventListener('load', handleLoad);\n    };\n  }, [isClient]);\n\n  useEffect(() => {\n    if (!isClient) return;\n\n    const logPerformance = () => {\n      console.group('ðŸš€ Performance Metrics');\n      console.log('Load Complete:', metrics.loadComplete.toFixed(2), 'ms');\n      console.log('Image Cache Size:', imageCache.getCacheSize());\n      console.groupEnd();\n    };\n\n    if (metrics.loadComplete > 0) {\n      logPerformance();\n    }\n  }, [metrics, isClient]);\n\n  useEffect(() => {\n    if (!isClient) return;\n\n    // Monitor memory usage\n    const monitorMemory = () => {\n      if ('memory' in performance) {\n        const memory = (performance as any).memory;\n        const used = (memory.usedJSHeapSize / 1024 / 1024).toFixed(2);\n        const total = (memory.totalJSHeapSize / 1024 / 1024).toFixed(2);\n        const limit = (memory.jsHeapSizeLimit / 1024 / 1024).toFixed(2);\n\n        if (process.env.NODE_ENV === 'development') {\n          console.log(`Memory: ${used}MB / ${total}MB (Limit: ${limit}MB)`);\n        }\n\n        // Auto cleanup if memory usage is high\n        if (parseFloat(used) / parseFloat(limit) > 0.8) {\n          memoryManager.performCleanup();\n          imageCache.clearCache();\n        }\n      }\n    };\n\n    const memoryInterval = setInterval(monitorMemory, 30000);\n\n    return () => clearInterval(memoryInterval);\n  }, [isClient]);\n\n  // Initialize performance monitoring on client-side\n  useEffect(() => {\n    if (!isClient) return;\n\n    // Preload critical resources\n    const criticalImages = [\n      '/favicon.svg',\n      '/favicon-16x16.png'\n    ];\n    preloadCriticalResources(criticalImages);\n\n    // Log performance metrics after page load\n    const timeout = setTimeout(() => {\n      performanceMonitor.logMetrics();\n    }, 3000);\n\n    const handleScroll = () => {\n      requestAnimationFrame(() => {\n        // Additional scroll logic if needed\n      });\n    };\n\n    window.addEventListener('scroll', handleScroll, { passive: true });\n\n    return () => {\n      clearTimeout(timeout);\n      window.removeEventListener('scroll', handleScroll);\n      // Cleanup on unmount\n      memoryManager.performCleanup();\n    };\n  }, [isClient]);\n\n  return <>{children}</>;\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 348, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/%40swc/helpers/esm/_define_property.js"],"sourcesContent":["function _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });\n    } else obj[key] = value;\n\n    return obj;\n}\nexport { _define_property as _ };\n"],"names":[],"mappings":";;;;AAAA,SAAS,iBAAiB,GAAG,EAAE,GAAG,EAAE,KAAK;IACrC,IAAI,OAAO,KAAK;QACZ,OAAO,cAAc,CAAC,KAAK,KAAK;YAAE,OAAO;YAAO,YAAY;YAAM,cAAc;YAAM,UAAU;QAAK;IACzG,OAAO,GAAG,CAAC,IAAI,GAAG;IAElB,OAAO;AACX","ignoreList":[0],"debugId":null}}]
}